webpackJsonp([15],{1691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),r=u(l),o=n(77),i=u(n(2134));function u(e){return e&&e.__esModule?e:{default:e}}var d={city:["odessa","kiev","dnepr"],domain:["ua","ru","com"],country:["usa","ukraine"]},c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tags:[{id:1,text:"City:Odessa,Kiev"},{id:2,text:"Domain:Ua"}],suggestions:d,label:"7 of 11,865"},n.handleDelete=n.handleDelete.bind(n),n.handleAddition=n.handleAddition.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"handleDelete",value:function(e){var t=this.state.tags;t.splice(e,1),this.setState({tags:t})}},{key:"handleAddition",value:function(e){var t=this.state.tags;t.push({id:t.length+1,text:e}),this.setState({tags:t})}},{key:"changeLabel",value:function(e){e&&this.setState(a({},this.state,{label:e}))}},{key:"changeTags",value:function(e){e&&this.setState(a({},this.state,{tags:e}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.tags,a=t.suggestions,s=t.label;return r.default.createElement("div",null,r.default.createElement("div",{style:{padding:"50px"}},r.default.createElement(i.default,{tags:n,label:s,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition}),r.default.createElement("br",null),r.default.createElement("div",null,"Example behaviour"),r.default.createElement("div",null,r.default.createElement("button",{onClick:function(){return e.changeLabel("12 of 70,000")}},"Label 1"),r.default.createElement("button",{onClick:function(){return e.changeLabel("1 of 170")}},"Label 2"),r.default.createElement("button",{onClick:function(){return e.changeLabel("12 of 13,080")}},"Label 3")),r.default.createElement("div",null,r.default.createElement("button",{onClick:function(){return e.changeTags([{id:1,text:"City:Kiev,Dnepr"},{id:2,text:"Domain:Com"}])}},"Tags 1"),r.default.createElement("button",{onClick:function(){return e.changeTags([{id:1,text:"City:Odessa"},{id:2,text:"Domain:ua"},{id:3,text:"Country:Ukraine"}])}},"Tags 2")),r.default.createElement("br",null),r.default.createElement("div",null,"Delimeters (create tag after input): ENTER, TAB"),r.default.createElement("div",null,"Remove exist tag: click on X, BACKSPACE in empty input")))}}]),t}();t.default=(0,o.connect)(function(){return{}},{})(c)},2134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(2178),l=(a=s)&&a.__esModule?a:{default:a};t.default=l.default},2176:function(e,t,n){"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),r=u(l),o=u(n(29)),i=u(n(2252));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(2203);var c=function(e,t){var n=t.offsetHeight,a=e.offsetHeight,s=e.offsetTop-t.scrollTop;s+a>=n?t.scrollTop+=s-n+a:s<0&&(t.scrollTop+=s)},f=(s=a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),o=0;o<s;o++)l[o]=arguments[o];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.shouldComponentUpdate=function(e){var t=a.props,n=t.shouldRenderSuggestions||a.shouldRenderSuggestions;return!(0,i.default)(t.suggestions,e.suggestions)||n(e.query)||n(e.query)!==n(t.query)},a.componentDidUpdate=function(e){var t=a.refs.suggestionsContainer,n=a.props,s=n.selectedIndex,l=n.classNames;if(t&&e.selectedIndex!==s){var r=t.querySelector(l.activeSuggestion);r&&c(r,t)}},a.markIt=function(e,t){var n=t.trim().replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&");return{__html:e.replace(RegExp(n,"gi"),"<mark>$&</mark>")}},a.shouldRenderSuggestions=function(e){var t=a.props.minQueryLength||2;return e.length>=t},a.render=function(){var e=a.props,t=e.suggestions.map(function(t,n){return r.default.createElement("li",{key:n,onMouseDown:e.handleClick.bind(null,n),onMouseOver:e.handleHover.bind(null,n),className:n===e.selectedIndex?e.classNames.activeSuggestion:""},r.default.createElement("span",{dangerouslySetInnerHTML:this.markIt(t,e.query)}))}.bind(a)),n=e.shouldRenderSuggestions||a.shouldRenderSuggestions;return 0!==t.length&&n(e.query)?r.default.createElement("div",{ref:"suggestionsContainer",className:a.props.classNames.suggestions},r.default.createElement("ul",null," ",t," ")):null},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),t}(),a.propTypes={query:o.default.string.isRequired,selectedIndex:o.default.number.isRequired,suggestions:o.default.array.isRequired,handleClick:o.default.func.isRequired,handleHover:o.default.func.isRequired,minQueryLength:o.default.number,shouldRenderSuggestions:o.default.func,classNames:o.default.object},s);t.default=f},2177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(0)),s=l(n(29));function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e.readOnly)return a.default.createElement("span",null);if(e.removeComponent){var t=e.removeComponent;return a.default.createElement(t,e)}return a.default.createElement("a",{onClick:e.onClick,className:e.className},a.default.createElement("i",{className:"fa fa-times "}))}n(2204);var o=function(e){var t=e.tag[e.labelField];return a.default.createElement("span",{className:e.classNames.tag},t,a.default.createElement(r,{className:e.classNames.remove,removeComponent:e.removeComponent,onClick:e.onDelete,readOnly:e.readOnly}))};o.PropTypes={labelField:s.default.string,onDelete:s.default.func.isRequired,tag:s.default.object.isRequired,removeComponent:s.default.func,classNames:s.default.object,readOnly:s.default.bool},o.defaultProps={labelField:"text",readOnly:!1},t.default=o},2178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),r=d(l),o=d(n(2176)),i=d(n(29)),u=d(n(2177));function d(e){return e&&e.__esModule?e:{default:e}}n(2205);var c=13,f=9,h=8,p=27,g={tags:"SearchQuery__tags",tagInput:"SearchQuery__tagInput",tagInputField:"SearchQuery__tagInputField",selected:"SearchQuery__selected",tag:"SearchQuery__tag",remove:"SearchQuery__remove",suggestions:"SearchQuery__suggestions",activeSuggestion:"SearchQuery__activeSuggestion",tagsInput:"SearchQuery__tagsInput",addon:"SearchQuery__addon",addonLabel:"SearchQuery__addon-label",addonClear:"SearchQuery__addon-clear"},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={suggestions:Object.keys(n.props.suggestions),query:"",selectedIndex:-1,selectionMode:!1},n.handleClear=n.handleClear.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleChange=n.handleChange.bind(n),n.handlePaste=n.handlePaste.bind(n),n.resetAndFocusInput=n.resetAndFocusInput.bind(n),n.handleSuggestionHover=n.handleSuggestionHover.bind(n),n.handleSuggestionClick=n.handleSuggestionClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentWillMount",value:function(){this.setState({classNames:a({},g,this.props.classNames)})}},{key:"resetAndFocusInput",value:function(){this.textInput.value="",this.textInput.focus()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,n=e.readOnly;t&&!n&&this.resetAndFocusInput()}},{key:"filteredSuggestions",value:function(e,t){return this.props.handleFilterSuggestions?this.props.handleFilterSuggestions(e,t):-1===e.indexOf(":")?Object.keys(t).filter(function(t){return 0===t.toLowerCase().indexOf(e.toLowerCase())}):t[e.slice(0,e.indexOf(":"))]||[]}},{key:"componentWillReceiveProps",value:function(e){var t=this.filteredSuggestions(this.state.query,e.suggestions);this.setState({suggestions:t,classNames:a({},g,e.classNames)})}},{key:"handleClear",value:function(){this.props.handleClear()}},{key:"handleDelete",value:function(e,t){this.props.handleDelete(e),this.setState({query:""}),this.resetAndFocusInput()}},{key:"handleChange",value:function(e){this.props.handleInputChange&&this.props.handleInputChange(e.target.value.trim());var t=e.target.value.trim(),n=this.filteredSuggestions(t,this.props.suggestions),a=this.state.selectedIndex;a>=n.length&&(a=n.length-1),this.setState({query:t,suggestions:n,selectedIndex:a})}},{key:"handleBlur",value:function(e){var t=e.target.value.trim();this.props.handleInputBlur&&(this.props.handleInputBlur(t),this.textInput.value="")}},{key:"handleKeyDown",value:function(e){var t=this.state.query;e.keyCode===p&&(e.preventDefault(),e.stopPropagation(),this.setState({selectedIndex:-1,selectionMode:!1,suggestions:[]})),-1===this.props.delimiters.indexOf(e.keyCode)||e.shiftKey||(e.keyCode===f&&""===t||e.preventDefault(),""!==t&&this.addTag(t)),e.keyCode===h&&""===t&&this.props.allowDeleteFromEmptyInput&&this.handleDelete(this.props.tags.length-1)}},{key:"handlePaste",value:function(e){var t=this;e.preventDefault();var n=this.props.delimiters.map(function(e){var t=e-48*Math.floor(e/48);return String.fromCharCode(96<=e?t:e)}).join("").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a=(e.clipboardData||window.clipboardData).getData("text"),s=new RegExp("["+n+"]+");a.split(s).forEach(function(e){return t.props.handleAddition(e)})}},{key:"addTag",value:function(e){var t=e.indexOf(":");-1!==t&&t!==e.length-1&&(this.props.handleAddition(e.replace(/,$/,"")),this.setState({query:"",selectionMode:!1,selectedIndex:-1}),this.resetAndFocusInput())}},{key:"handleSuggestionClick",value:function(e,t){var n=this,a=this.state.suggestions[e],s=this.textInput.value.trim();s=-1===s.indexOf(":")?a:s.replace(/([:,])[a-z0-9 \-_]*$/i,"$1"+a),this.textInput.value=s,this.setState({query:s,selectedIndex:-1,selectionMode:!1,suggestions:[]},function(){setTimeout(function(){return n.textInput.focus()},100)})}},{key:"handleSuggestionHover",value:function(e,t){this.setState({selectedIndex:e,selectionMode:!0})}},{key:"render",value:function(){var e=this,t=this.props.tags.map(function(e,t){return r.default.createElement(u.default,{key:e.id,index:t,tag:e,labelField:this.props.labelField,onDelete:this.handleDelete.bind(this,t,e),removeComponent:this.props.removeComponent,readOnly:this.props.readOnly,classNames:this.state.classNames})}.bind(this)),n=this.state.query.trim(),a=this.state.selectedIndex,s=this.state.suggestions,l=this.props.placeholder,i=this.props.name,d=this.props.id,c=this.props.maxLength,f=this.props.label,h=this.props.readOnly?t.length>0?null:r.default.createElement("div",{style:{height:"33px"}}," "):r.default.createElement("div",{className:this.state.classNames.tagInput},r.default.createElement("input",{ref:function(t){e.textInput=t},className:this.state.classNames.tagInputField,type:"text",placeholder:l,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,name:i,id:d,maxLength:c}),r.default.createElement(o.default,{query:n,suggestions:s,selectedIndex:a,handleClick:this.handleSuggestionClick,handleHover:this.handleSuggestionHover,minQueryLength:this.props.minQueryLength,shouldRenderSuggestions:this.props.shouldRenderSuggestions,classNames:this.state.classNames}));return r.default.createElement("div",{className:this.state.classNames.tagsInput},r.default.createElement("div",{className:this.state.classNames.tags},r.default.createElement("div",{className:this.state.classNames.selected},t,this.props.inline&&h),!this.props.inline&&h),r.default.createElement("div",{className:this.state.classNames.addon},r.default.createElement("div",{className:this.state.classNames.addonLabel},f),r.default.createElement("div",{className:this.state.classNames.addonClear,onClick:this.handleClear},r.default.createElement("i",{className:"fa fa-times-circle fa-lg"}))))}}]),t}();t.default=m,m.PropTypes={allowDeleteFromEmptyInput:i.default.bool,autofocus:i.default.bool,classNames:i.default.object,delimiters:i.default.array,handleDelete:i.default.func.isRequired,handleAddition:i.default.func.isRequired,handleFilterSuggestions:i.default.func,handleInputChange:i.default.func,handleInputBlur:i.default.func,id:i.default.string,inline:i.default.bool,label:i.default.string,labelField:i.default.string,maxLength:i.default.string,minQueryLength:i.default.number,name:i.default.string,placeholder:i.default.string,removeComponent:i.default.func,readOnly:i.default.bool,shouldRenderSuggestions:i.default.func,suggestions:i.default.object},m.defaultProps={placeholder:"Add New Tag",tags:[],suggestions:{},delimiters:[c,f],autofocus:!0,inline:!0,allowDeleteFromEmptyInput:!0,minQueryLength:2,readOnly:!1,label:""}},2203:function(e,t){},2204:function(e,t){},2205:function(e,t){},2252:function(e,t,n){var a=n(434);e.exports=function(e,t){return a(e,t)}}});